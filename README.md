# ğŸ“˜ XHS Automation - æœå¹¿æ¨å®ä¹ ç”Ÿè‡ªåŠ¨è¿è¥ç³»ç»Ÿ

> åŸºäº Puppeteer ç§»æ¤ [xiaohongshu-mcp](https://github.com/xpzouying/xiaohongshu-mcp) (Go) æ ¸å¿ƒé€»è¾‘çš„å°çº¢ä¹¦è‡ªåŠ¨å‘å¸ƒå·¥å…·ï¼Œä¸“ä¸º"æœå¹¿æ¨ç®—æ³•å®ä¹ ç”Ÿ"äººè®¾æ‰“é€ çš„å†…å®¹è¿è¥è§£å†³æ–¹æ¡ˆã€‚

**ğŸš€ v6.0 Dashboard Edition (Stable)** - Web æ§åˆ¶å° + å®æ—¶æ—¥å¿— + Feed ç©¿æ’ + AI å…³é”®è¯

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§ (Features)

### âœ… v6.0 æ–°åŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ğŸ–¥ï¸ **Web Dashboard** | ä¸€é”®å¯åŠ¨ `npm run dashboard`ï¼Œæµè§ˆå™¨æ§åˆ¶å…¨æµç¨‹ |
| ğŸ“¡ **å®æ—¶ç›‘æ§** | Socket.io æ¨é€æ—¥å¿—ï¼Œå‰ç«¯ç»ˆç«¯å®æ—¶æ»šåŠ¨ |
| ğŸ›¡ï¸ **å¹¶å‘é˜²æŠ¤** | Dashboard è¿›ç¨‹é”ï¼Œé˜²æ­¢ Scout/Publish åŒæ—¶è¿è¡Œ |
| â›” **ä¸€é”® Kill** | Dashboard æä¾› Kill Task æŒ‰é’®ï¼Œç»ˆæ­¢å¡æ­»ä»»åŠ¡ |
| ğŸ§° **Tool API** | Dashboard æä¾› `/api/tool`ï¼Œä»¥â€œå·¥å…·æ¥å£â€æ–¹å¼è°ƒç”¨ `list/search/detail/profile` |
| ğŸ§© **__INITIAL_STATE__ è§£æ** | ä¼˜å…ˆä» `window.__INITIAL_STATE__` æŠ½å– feed/search/detail/profileï¼ŒDOM æ–¹æ¡ˆä½œä¸ºå…œåº• |
| âœï¸ **Rewrite Studio** | Dashboard æ–°å¢æ”¹å†™å·¥ä½œå°ï¼šç²˜è´´/ä¸Šä¼ ç´ æ â†’ AI æ”¹å†™ â†’ é¢„è§ˆ â†’ å¯¼å‡ºåˆ° `content/drafts/` |

### âœ… v5.1 åŠŸèƒ½ (å»¶ç»­)
| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ğŸ“± **Feedæµç©¿æ’** | æœç´¢é—´éšæœºç©¿æ’2æ¬¡Feedæµæµè§ˆï¼Œè·å–1-2ç¯‡ç¬”è®° |
| ğŸ¬ **è§†é¢‘æ£€æµ‹** | è‡ªåŠ¨è¯†åˆ«è§†é¢‘ç¬”è®°ï¼Œæ¨¡æ‹Ÿè§‚çœ‹ä½†ä¸è®°å½•å†…å®¹ |
| ğŸ§  **AIå…³é”®è¯æ‰©å±•** | DeepSeek æ™ºèƒ½æ‰©å±•æœç´¢å…³é”®è¯ |
| ğŸ’¬ **è¯„è®ºæŠ“å–** | æå–çƒ­é—¨è¯„è®º Top 3 |
| ğŸ“… **æ—¥æœŸæ—¥æŠ¥** | æ—¥æŠ¥æ–‡ä»¶è‡ªåŠ¨å¸¦æ—¥æœŸå‘½å `daily_YYYY-MM-DD.md` |
| â±ï¸ **ä¼˜åŒ–æ—¶åº** | åœç•™15-30sï¼Œæœç´¢é—´éš”20-40s |

### âœ… Deep Dive Analysis (æ·±åº¦åˆ†æ)
- è‡ªåŠ¨æŠ“å–ç¬”è®°**æ­£æ–‡å…¨æ–‡** + **Top 5 çƒ­è¯„**
- æ™ºèƒ½è¿‡æ»¤æ— æ„ä¹‰çŸ­è¯„ï¼ˆ"æ±‚å¸¦"ã€"åŒé—®"ï¼‰
- ç²¾å‡†æ•æ‰è¯„è®ºåŒºçš„**é¢è¯•è¿½é—®ç»†èŠ‚**
- **v5.0**: çŸ­æ­£æ–‡è‡ªåŠ¨ OCR è¡¥å……å›¾ç‰‡å†…å®¹

### âœ… Local Database (æœ¬åœ°é¢˜åº“)
- JSON å¢é‡å†™å…¥ï¼ŒåŸºäº `note_id` è‡ªåŠ¨å»é‡
- å®Œæ•´å­—æ®µï¼š`id` / `link` / `full_text` / `hot_comments`
- çŠ¶æ€ç®¡ç†ï¼š`status: "pending"` â†’ `"imported"`
- å¯ç›´æ¥å¯¼å…¥ AlgoQuest é¢˜åº“

### âœ… Human-Simulation (æ‹Ÿäººé˜²æ£€æµ‹)
- ğŸ–±ï¸ **è´å¡å°”æ›²çº¿é¼ æ ‡è½¨è¿¹**ï¼šè‡ªç„¶çš„é¼ æ ‡ç§»åŠ¨è·¯å¾„
- âŒ¨ï¸ **å˜é€Ÿæ‰“å­—**ï¼š80-200ms/å­—ï¼Œå¶å°”"æ€è€ƒ"åœé¡¿
- ğŸ“± **Feedæµç©¿æ’**ï¼šæœç´¢é—´éšæœºåˆ·é¦–é¡µï¼Œæ›´è‡ªç„¶
- â±ï¸ **çœŸäººåœç•™**ï¼šæ¯ç¯‡ç¬”è®°åœç•™ 15-30 ç§’
- ğŸ”€ **éšæœºé—´éš”**ï¼šå…³é”®è¯æœç´¢é—´éš” 20-40 ç§’
- ğŸ‘¤ **æŒ‡çº¹éšè—**ï¼šéšæœºè§†å£ + webdriver ç‰¹å¾ç§»é™¤
- ğŸ¬ **è§†é¢‘å¤„ç†**ï¼šæ£€æµ‹è§†é¢‘ç¬”è®°ï¼Œè§‚çœ‹ä½†ä¸è®°å½•

### âœ… å…¶ä»–ç‰¹æ€§
- **Copy-Paste Engineering**: ç›´æ¥ç§»æ¤ MCP é¡¹ç›®çš„é¡µé¢äº¤äº’é€»è¾‘
- **æœ¬åœ°å›¾ç‰‡ç›´ä¼ **: Puppeteer åŸç”Ÿ `uploadFile()`
- **è‡ªåŠ¨å½’æ¡£**: å‘å¸ƒæˆåŠŸåç§»å…¥ `published/` ç›®å½•

---

## ğŸš¨ å®‰å…¨çº¢çº¿ (Safety Guidelines)

> âš ï¸ **ä¸¥é‡è­¦å‘Š**ï¼šè¿åä»¥ä¸‹è§„åˆ™å¯èƒ½å¯¼è‡´è´¦å·è¢«å°ï¼

| ç¦æ­¢è¡Œä¸º | åŸå›  |
|----------|------|
| ğŸš« **ä¸¥ç¦å¤šå¼€** | åŒä¸€è´¦å·ä¸è¦åŒæ—¶è¿è¡Œå¤šä¸ªè„šæœ¬å®ä¾‹ |
| ğŸš« **ä¸¥ç¦åŠ é€Ÿ** | ä¸è¦ä¿®æ”¹ `SAFETY_CONFIG` ä¸­çš„å»¶è¿Ÿå‚æ•° |
| ğŸš« **ä¸¥ç¦é¢‘ç¹ç™»å½•** | æ¯å¤©æœ€å¤šè¿è¡Œ 2-3 æ¬¡ï¼Œé—´éš” > 4 å°æ—¶ |
| ğŸš« **ä¸¥ç¦æ·±å¤œè¿è¡Œ** | é¿å…å‡Œæ™¨ 1-6 ç‚¹è¿è¡Œï¼ˆå¼‚å¸¸è¡Œä¸ºæ ‡è®°ï¼‰ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start Â· Dashboard ä¼˜å…ˆ)

1) å®‰è£…ä¾èµ–
```bash
cd d:\AIlearn\xhs_automation
npm install
```

2) å¯åŠ¨ Dashboard
```bash
npm run dashboard
```

3) æ‰“å¼€æµè§ˆå™¨
```
http://localhost:3000
```

### ï¿½ï¸ Dashboard ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å·¦ä¾§å¯¼èˆªæ     â”‚  é¡¶éƒ¨æ“ä½œæ  (ç™»å½•/æœé›†/å‘å¸ƒ/åœæ­¢) â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚ Logo    â”‚  â”‚ é¡µé¢æ ‡é¢˜ + å‰¯æ ‡é¢˜                 â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚ æ€»è§ˆé¢æ¿ â”‚  â”‚                                 â”‚
â”‚  â”‚ æƒ…æŠ¥æ—¥æŠ¥ â”‚  â”‚     Bento Grid å†…å®¹åŒº            â”‚
â”‚  â”‚ æ•°æ®åº“   â”‚  â”‚     (ç»Ÿè®¡/æ—¥å¿—/å¿«æ·å…¥å£/æç¤º)     â”‚
â”‚  â”‚ æ”¹å†™å·¥åŠ â”‚  â”‚                                 â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                                 â”‚
â”‚  â”‚ çŠ¶æ€æŒ‡ç¤º â”‚  â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½åˆ†å¸ƒè¯´æ˜ï¼š**

| åŒºåŸŸ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| **å·¦ä¾§å¯¼èˆªæ ** | è§†å›¾åˆ‡æ¢ | æ€»è§ˆé¢æ¿ã€æƒ…æŠ¥æ—¥æŠ¥ã€æ•°æ®åº“ã€æ”¹å†™å·¥åŠ |
| **é¡¶éƒ¨æ“ä½œæ ** | æ ¸å¿ƒæ“ä½œ | ğŸ”‘ ç™»å½•ã€ğŸ•µï¸ æƒ…æŠ¥æœé›†ã€ğŸš€ å†…å®¹å‘å¸ƒã€â›” åœæ­¢ä»»åŠ¡ |
| **æ€»è§ˆé¢æ¿** | æ•°æ®æ¦‚è§ˆ | ä»Šæ—¥é‡‡é›†ç»Ÿè®¡ã€å®æ—¶æ—¥å¿—ã€å¿«æ·å…¥å£ã€ä½¿ç”¨æç¤º |
| **æƒ…æŠ¥æ—¥æŠ¥** | å†…å®¹æŸ¥çœ‹ | æŸ¥çœ‹è‡ªåŠ¨ç”Ÿæˆçš„é¢ç»åˆ†ææŠ¥å‘Š |
| **æ•°æ®åº“** | æ•°æ®ç®¡ç† | æŸ¥çœ‹æœ¬åœ°é¢˜åº“ JSON æ•°æ® |
| **æ”¹å†™å·¥åŠ** | å†…å®¹åˆ›ä½œ | AI æ”¹å†™ç´ æã€ç”Ÿæˆæ ‡é¢˜ã€å¯¼å‡ºè‰ç¨¿ |

### âœï¸ æ”¹å†™å·¥åŠä½¿ç”¨æµç¨‹

å·¦ä¾§å¯¼èˆªç‚¹å‡»ã€Œæ”¹å†™å·¥åŠã€è¿›å…¥ï¼š

1. **è¾“å…¥ç´ æ**ï¼šç²˜è´´æ–‡æœ¬æˆ–ä¸Šä¼  `.txt` æ–‡ä»¶
2. **AI æ”¹å†™**ï¼šç‚¹å‡»ã€Œå¼€å§‹æ”¹å†™ã€æˆ–æŒ‰ `Ctrl+Enter`
3. **é€‰æ‹©æ ‡é¢˜**ï¼šä»å€™é€‰æ ‡é¢˜ä¸­é€‰æ‹©æˆ–æ‰‹åŠ¨è¾“å…¥
4. **è°ƒæ•´æ ‡ç­¾**ï¼šåœ¨è¾“å‡ºåŒºé¡¶éƒ¨è¾“å…¥æ ‡ç­¾
5. **å¯¼å‡ºè‰ç¨¿**ï¼šç‚¹å‡»ã€Œå¯¼å‡ºè‰ç¨¿ã€æˆ–æŒ‰ `Ctrl+S`ï¼Œä¿å­˜åˆ° `content/drafts/`

å¯¼å‡ºæ ¼å¼ï¼š
```markdown
# æ ‡é¢˜
#tag1 #tag2 #tag3

æ­£æ–‡å†…å®¹...
```

åç«¯æ¥å£ï¼š

- `GET /api/rewrite/welcome`
- `POST /api/rewrite`ï¼ˆbody: `{ material, maxHeadlines }`ï¼‰
- `POST /api/rewrite/export`ï¼ˆbody: `{ title, rewrite, tags, slug }`ï¼‰

### å¯é€‰ï¼šé…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ AI API é…ç½®
```

`.env` æ–‡ä»¶å†…å®¹ï¼š
```env
# DeepSeek API é…ç½®
DEEPSEEK_API_KEY=sk-your-deepseek-key
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat
```

> å…¼å®¹è¯´æ˜ï¼šé¡¹ç›®åŒæ—¶å…¼å®¹æ—§ç‰ˆ `AI_API_BASE/AI_API_KEY/AI_MODEL`ï¼Œä½†æ¨èä½¿ç”¨ `DEEPSEEK_*`ã€‚

> ğŸ’¡ ä¸é…ç½® AI ä¹Ÿèƒ½è¿è¡Œï¼Œä¼šè·³è¿‡ AI å…³é”®è¯æ‰©å±•å’Œæ™ºèƒ½åˆ†æ

### ä¼ ç»Ÿ CLI (å¤‡é€‰)
- `npx tsx login.ts`
- `npx tsx index.ts`
- `npx tsx publisher.ts`

### å·¥å…·åŒ–æ¥å£ï¼ˆToolï¼‰

**CLIï¼š**

- `npx tsx tool.ts listFeeds`
- `npx tsx tool.ts searchFeeds "{\"keyword\":\"æ¨èç³»ç»Ÿ\"}"`
- `npx tsx tool.ts getFeedDetail "{\"feedId\":\"<id>\",\"xsecToken\":\"<tokenå¯é€‰>\"}"`
- `npx tsx tool.ts userProfile "{\"userId\":\"<id>\",\"xsecToken\":\"<tokenå¯é€‰>\"}"`

**Dashboard HTTPï¼š**

- `GET /api/tool?action=listFeeds`
- `GET /api/tool?action=searchFeeds&params={"keyword":"æ¨èç³»ç»Ÿ"}`

### å‡†å¤‡å†…å®¹ï¼ˆå‘å¸ƒå‰ï¼‰

å°† Markdown æ–‡ä»¶å’Œ**åŒåé…å›¾**æ”¾å…¥ `content/drafts/` ç›®å½•ï¼š

```
content/drafts/
â”œâ”€â”€ my_post.md      â† æ–‡æ¡ˆ
â””â”€â”€ my_post.jpg     â† é…å›¾ (âš ï¸ å¿…é¡»ä¸ .md åŒå!)
```

> **é‡è¦**ï¼šå›¾ç‰‡å’Œ Markdown æ–‡ä»¶åå¿…é¡»å®Œå…¨ä¸€è‡´ï¼ˆå¦‚ `note1.md` å¯¹åº” `note1.jpg`ï¼‰

å‘å¸ƒè¯·ç›´æ¥åœ¨ Dashboard ç‚¹å‡» ğŸš€ Publishï¼ˆç­‰æ•ˆäº `npx tsx publisher.ts`ï¼‰ã€‚è‡ªåŠ¨æ‰«æ drafts â†’ ä¸Šä¼  â†’ å‘å¸ƒ â†’ å½’æ¡£ã€‚

---

## ğŸ“ å†…å®¹åˆ¶ä½œè§„èŒƒ

### ç›®å½•ç»“æ„

```
d:\AIlearn\xhs_automation\
â”œâ”€â”€ src/                  # æ¨¡å—åŒ–ä»£ç 
â”‚   â”œâ”€â”€ config.ts         # é…ç½®å¸¸é‡
â”‚   â”œâ”€â”€ types.ts          # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ selectors.ts      # DOM é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ utils.ts          # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ocr.ts            # OCR å›¾ç‰‡è¯†åˆ«
â”‚   â”œâ”€â”€ ai.ts             # AI æ™ºèƒ½åˆ†æ
â”‚   â”œâ”€â”€ xhsInitialState.ts # __INITIAL_STATE__ æŠ½å–å·¥å…·
â”‚   â””â”€â”€ database.ts       # æ•°æ®åº“æ“ä½œ
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ drafts/           # å¾…å‘å¸ƒ (æ”¾è¿™é‡Œ)
â”‚   â””â”€â”€ published/        # å·²å‘å¸ƒ (è‡ªåŠ¨å½’æ¡£)
â”œâ”€â”€ reports/              # æ¯æ—¥æƒ…æŠ¥æ—¥æŠ¥
â”œâ”€â”€ data/                 # AlgoQuest æœ¬åœ°é¢˜åº“
â”œâ”€â”€ index.ts              # æƒ…æŠ¥æœé›†ä¸»ç¨‹åº
â”œâ”€â”€ publisher.ts          # å‘å¸ƒå·¥å…·
â”œâ”€â”€ login.ts              # ç™»å½•å·¥å…·
â”œâ”€â”€ tool.ts               # å·¥å…·å¼å…¥å£ï¼ˆlist/search/detail/profileï¼‰
â””â”€â”€ .env.example          # ç¯å¢ƒå˜é‡æ¨¡æ¿
```

### Markdown æ¨¡æ¿

```markdown
# è¿™é‡Œæ˜¯æ ‡é¢˜ (ä¼šè¢«è§£æä¸ºç¬”è®°æ ‡é¢˜)

#æ ‡ç­¾1 #æ ‡ç­¾2 #æ ‡ç­¾3 #æœ€å¤š10ä¸ª

è¿™é‡Œæ˜¯æ­£æ–‡å†…å®¹...

å¯ä»¥æœ‰å¤šä¸ªæ®µè½ï¼Œæ”¯æŒ Markdown æ ¼å¼ã€‚

## å°æ ‡é¢˜ä¹Ÿå¯ä»¥

- åˆ—è¡¨é¡¹ 1
- åˆ—è¡¨é¡¹ 2

æ­£æ–‡ä¼šè‡ªåŠ¨æå–ï¼Œæ ‡ç­¾è¡Œä¼šè¢«è¿‡æ»¤æ‰ã€‚
```

### è§£æè§„åˆ™

| å…ƒç´  | è§„åˆ™ |
|------|------|
| **æ ‡é¢˜** | ç¬¬ä¸€è¡Œä»¥ `# ` å¼€å¤´çš„å†…å®¹ |
| **æ ‡ç­¾** | æ‰€æœ‰ `#ä¸­æ–‡æˆ–è‹±æ–‡` æ ¼å¼çš„è¯ (è‡ªåŠ¨å»é‡ï¼Œæœ€å¤š10ä¸ª) |
| **æ­£æ–‡** | é™¤æ ‡é¢˜å’Œçº¯æ ‡ç­¾è¡Œä¹‹å¤–çš„æ‰€æœ‰å†…å®¹ |
| **å›¾ç‰‡** | ä¸ `.md` åŒåçš„ `.jpg/.png/.jpeg/.gif/.webp` æ–‡ä»¶ |

### ç¤ºä¾‹ï¼šå®ä¹ ç”Ÿæ‹†é¢˜æ¨¡æ¿

```markdown
# å®ä¹ æ—¥è®°ï¼šDeepFM ç‰¹å¾äº¤å‰çš„å·¥ä¸šè½åœ°ç»†èŠ‚

#æœå¹¿æ¨ #ç®—æ³•å®ä¹  #æ¨èç³»ç»Ÿ #DeepFM #CTRé¢„ä¼°

ä»Šå¤©ç»„ä¼šè®¨è®ºäº† DeepFM åœ¨çœŸå®åœºæ™¯ä¸‹çš„åº”ç”¨ï¼Œå‘ç°é¢ç»é‡Œçš„å¾ˆå¤šè¯´æ³•å¤ªç†è®ºäº†...

## é¢è¯• vs å®æˆ˜å¯¹æ¯”

**é¢è¯•å¸¸é—®ï¼š**
- DeepFM å’Œ Wide&Deep çš„åŒºåˆ«ï¼Ÿ

**å®æˆ˜å…³æ³¨ï¼š**
- Embedding ç»´åº¦æ€ä¹ˆç»Ÿä¸€å¯¹é½ï¼Ÿ
- çº¿ä¸Šæ¨ç†å»¶è¿Ÿæ€ä¹ˆä¼˜åŒ–ï¼Ÿ

---

ğŸ’¡ å¤ä¹ ç¥å™¨ï¼šç”¨ AlgoQuest æ•´ç†çš„æ¨èç³»ç»ŸçŸ¥è¯†æ ‘~
```

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šå‘å¸ƒå¤±è´¥ï¼Œé¡µé¢æ²¡ååº”

**æ£€æŸ¥ Cookie æ˜¯å¦è¿‡æœŸ**:
```bash
# é‡æ–°ç™»å½•è·å–æ–° Cookie
npx tsx login.ts
```

### é—®é¢˜ 2ï¼šæŠ¥é”™åæƒ³æŸ¥çœ‹é¡µé¢çŠ¶æ€

**æŸ¥çœ‹é”™è¯¯æˆªå›¾**:
```
d:\AIlearn\xhs_automation\error_screenshot.png
```

å‘å¸ƒå¤±è´¥æ—¶ä¼šè‡ªåŠ¨æˆªå›¾ä¿å­˜å½“å‰é¡µé¢çŠ¶æ€ã€‚

### é—®é¢˜ 3ï¼šå›¾ç‰‡ä¸Šä¼ è¶…æ—¶

**å¯èƒ½åŸå› **:
- å›¾ç‰‡æ–‡ä»¶è¿‡å¤§ (å»ºè®® < 5MB)
- ç½‘ç»œä¸ç¨³å®š

**è§£å†³æ–¹æ¡ˆ**:
- å‹ç¼©å›¾ç‰‡åé‡è¯•
- æ£€æŸ¥ç½‘ç»œè¿æ¥

### é—®é¢˜ 4ï¼šæ‰¾ä¸åˆ°ç¼–è¾‘å™¨å…ƒç´ 

**å¯èƒ½åŸå› **:
- å°çº¢ä¹¦é¡µé¢ç»“æ„æ›´æ–°

**è§£å†³æ–¹æ¡ˆ**:
- æŸ¥çœ‹ `error_screenshot.png` åˆ†æé¡µé¢
- å¯¹ç…§ `publisher.ts` ä¸­çš„ `SELECTORS` æ›´æ–°é€‰æ‹©å™¨

---

## ğŸ“ æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `index.ts` | æƒ…æŠ¥ç³»ç»Ÿä¸»ç¨‹åº |
| `login.ts` | ç™»å½•å·¥å…· (ä¸»ç«™æ‰«ç ) |
| `publisher.ts` | å‘å¸ƒå·¥å…· |
| `test_all.ts` | å®Œæ•´åŠŸèƒ½æµ‹è¯• (43é¡¹) |
| `.env.example` | ç¯å¢ƒå˜é‡æ¨¡æ¿ |
| **[ARCHITECTURE.md](ARCHITECTURE.md)** | **ğŸ—ï¸ æŠ€æœ¯æ¶æ„æ–‡æ¡£** |

### ğŸ“¦ æ¨¡å—åŒ–ç»“æ„ (`src/`)

| æ¨¡å— | åŠŸèƒ½ |
|------|------|
| `config.ts` | é…ç½®å¸¸é‡ (è·¯å¾„ã€APIã€å®‰å…¨å‚æ•°ã€è¯åº“) |
| `types.ts` | ç±»å‹å®šä¹‰ (NoteInfo, Draft, QuestionItem) |
| `selectors.ts` | DOM é€‰æ‹©å™¨ (è¯¦æƒ…é¡µã€ç¬”è®°åˆ—è¡¨ã€å‘å¸ƒé¡µ) |
| `utils.ts` | å·¥å…·å‡½æ•° (delay, humanClick, loadCookies) |
| `ocr.ts` | OCR å›¾ç‰‡è¯†åˆ« + æ‹ŸäººåŒ–çœ‹å›¾ |
| `ai.ts` | AI æ™ºèƒ½åˆ†æ (callAI, generateAIReport) |
| `database.ts` | æ•°æ®åº“æ“ä½œ (å»é‡ä¿å­˜ JSON) |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Runtime**: Node.js + TypeScript (tsx)
- **Web**: Express + Socket.io + Marked
- **Browser Automation**: Puppeteer + puppeteer-extra
- **Anti-Detection**: puppeteer-extra-plugin-stealth
- **OCR**: tesseract.js (ä¸­è‹±æ–‡è¯†åˆ«)
- **Config**: dotenv (ç¯å¢ƒå˜é‡)
- **Reference**: [xiaohongshu-mcp](https://github.com/xpzouying/xiaohongshu-mcp) (Go)

---

## ğŸ“œ å¼€å‘è·¯çº¿

- [x] **Phase 1**: åŸºç¡€è®¾æ–½ (Cookie ç™»å½•)
- [x] **Phase 2**: æƒ…æŠ¥ç³»ç»Ÿ (ç‚¹å‡»æ¨¡å¼ + å»é‡)
- [x] **Phase 3**: å‘å¸ƒç³»ç»Ÿ (MCP é€»è¾‘ç§»æ¤)
- [x] **Phase 4**: å®‰å…¨åŠ å›º (è´å¡å°”é¼ æ ‡ + å˜é€Ÿæ‰“å­—)
- [x] **Phase 5**: æ™ºèƒ½å‡çº§ (OCR + AI åˆ†æ)
- [x] **Phase 6**: æ¨¡å—åŒ–é‡æ„ (src/ æ‹†åˆ†)
- [x] **Phase 7**: è¡Œä¸ºä¼˜åŒ– (Feedæµç©¿æ’ + è§†é¢‘æ£€æµ‹ + DeepSeeké›†æˆ)

---

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œä¸ªäººä½¿ç”¨ã€‚è¯·éµå®ˆå°çº¢ä¹¦å¹³å°çš„ä½¿ç”¨æ¡æ¬¾ï¼Œåˆç†æ§åˆ¶å‘å¸ƒé¢‘ç‡ï¼Œé¿å…æ»¥ç”¨è‡ªåŠ¨åŒ–å·¥å…·ã€‚

---

**Made with â¤ï¸ by æœå¹¿æ¨å®ä¹ ç”Ÿ**

## Creator Assistant (Personal Blogger MVP)

Added on 2026-02-21 for solo creator workflow (not replacing Xiaohongshu official tools).

- Entry: `Dashboard -> æ”¹å†™å·¥åŠ -> åˆ›ä½œè€…åŠ©æ‰‹`
- Scope: topic picking, preflight checks, publish-pack generation, lightweight review
- Goal: reduce daily decision cost and improve stable posting quality

### Included Modules

1. Today's Topic Suggestions
- Button: `åˆ·æ–°é€‰é¢˜`
- Actions: `ç”¨ä½œæ ‡é¢˜` / `å¡«å…¥ç´ æåŒº`

2. Preflight Check
- Button: `ä¸€é”®æ£€æŸ¥`
- Checks: title length, content depth, paragraph structure, tags, personal voice, CTA

3. Publish Pack
- Buttons: `ç”Ÿæˆ` / `å¤åˆ¶`
- Output: title + body + tags + suggested first comment

4. Lightweight Review
- Button: `ä¿å­˜å¤ç›˜`
- Fields: topic, URL, impressions, likes, saves, comments, follows, reflection
- Output: engagement rate + recent records

### New API Endpoints

- `GET /api/stats`
- `GET /api/creator/topics?limit=3`
- `GET /api/creator/reviews?limit=5`
- `POST /api/creator/reviews`

### Data File

- `data/creator_reviews.json`

### Product Note

This module is intentionally lightweight: it complements Xiaohongshu's native creator tools instead of rebuilding analytics/ads/collaboration systems.

See details: `CREATOR_MVP.md`
